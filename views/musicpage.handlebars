<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Include necessary CSS and JavaScript libraries -->
</head>
<body>
    <!-- Your HTML content -->

    <h1>Music Player</h1>
    <!-- Render the music player with the provided playlistId -->
    <div id="musicPlayer">
        <!-- Your music player implementation using playlistId -->
        <iframe src="https://www.deezer.com/plugins/player?format=classic&autoplay=true&playlist=true&width=700&height=350&color=007FEB&layout=dark&size=medium&type=playlist&id={{playlistId}}&app_id=1" width="700" height="350" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
    </div>

    <!-- Include necessary JavaScript for the music player -->

</body>
</html>

{{!-- <!DOCTYPE html>
<html lang="en">
<head>
    <!-- Include Bootstrap CSS and JS -->
    <!-- Include other necessary CSS and JS libraries -->

    <style>
        /* Your CSS styles */
    </style>

    <!-- Other necessary meta tags, links, and scripts -->
</head>
<body>
    <!-- Your HTML content -->

    <h1>{{ emotion }} Playlist</h1>

    <!-- Render the playlist based on the provided data -->
    <ul>
        {{#each playlistData.tracks.data}}
            <li>{{this.title}}</li>
        {{/each}}
    </ul>

    <!-- Other HTML content -->

    <!-- Include necessary JavaScript for playing the playlist -->
</body>
</html> --}}


{{!-- <!DOCTYPE html>
<html lang="en">
<head>
    <!-- Include Bootstrap CSS and JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Include Howler.js library -->
    <script src="https://unpkg.com/howler"></script>
    <!-- Include your custom CSS file -->
    {{!-- <link rel="stylesheet" href="/css/custom.css"> --}}
    <!-- Include your music player JavaScript file -->
    <script defer src="/js/musicPlayer.js"></script>
    <!-- Add any other necessary head elements -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data: blob:; font-src 'self' data: blob:;">

    <style>
        /* Add your custom styles here */
        body {
            text-align: center;
        }

        h1, h3 {
            margin-top: 20px;
        }

        .track-box {
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 10px;
            text-align: left;
        }

        /* Add more styles as needed */
    </style>

    <link rel="icon" type="image/x-icon" href="images/emo_logo.png">
</head>
<body>
    <div class="container">
        <h1>Welcome to the Music Player Page!</h1>

        <!-- Display Deezer API data (example structure, adjust as needed) -->
        <div id="musicPlayerData">
            <h2>{{ musicData.title }}</h2>
            <p>{{ musicData.description }}</p>
            <!-- Add more details if needed -->
        </div>

        <!-- Music Player (example structure, adjust as needed) -->
        <div id="musicPlayer">
            <!-- Add your music player UI here -->
            <!-- You can use HTML5 audio tags or integrate a third-party music player -->
        </div>

        <!-- Track listing with Howler.js playback controls -->
        <div id="trackListing">
            <!-- Tracks will be dynamically added here -->
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Your existing code for fetching and displaying Deezer API data

            // Function to create an audio element for each track using Howler.js
            function createAudioElement(track) {
                const audioElement = new Howl({
                    src: [track.preview],
                    html5: true, // Use HTML5 audio elements
                    format: ["mp3"],
                });

                return audioElement;
            }

            // Function to create a box for each track using Howler.js
            function createTrackBox(track) {
                const trackBox = document.createElement("div");
                trackBox.classList.add("track-box");

                const titleElement = document.createElement("h3");
                titleElement.textContent = track.title;

                const artistElement = document.createElement("p");
                artistElement.textContent = `Artist: ${track.artist}`;

                const albumElement = document.createElement("p");
                albumElement.textContent = `Album: ${track.album}`;

                const playButton = document.createElement("button");
                playButton.textContent = "Play";

                const stopButton = document.createElement("button");
                stopButton.textContent = "Stop";

                const audioElement = createAudioElement(track);

                playButton.addEventListener("click", () => audioElement.play());
                stopButton.addEventListener("click", () => audioElement.stop());

                trackBox.appendChild(titleElement);
                trackBox.appendChild(artistElement);
                trackBox.appendChild(albumElement);
                trackBox.appendChild(playButton);
                trackBox.appendChild(stopButton);

                return trackBox;
            }

            // Fetch your Deezer API data and iterate through tracks to display them
            // Replace this with your actual data
            const deezerApiData = [
                // Sample track data, replace with actual data
                { title: "Song 1", artist: "Artist 1", album: "Album 1", preview: "https://example.com/song1.mp3" },
                { title: "Song 2", artist: "Artist 2", album: "Album 2", preview: "https://example.com/song2.mp3" },
                // ... Add more track data
            ];

            const trackListing = document.getElementById("trackListing");

            deezerApiData.forEach(track => {
                const trackBox = createTrackBox(track);
                trackListing.appendChild(trackBox);
            });
        });
    </script>
</body>
</html> --}}
